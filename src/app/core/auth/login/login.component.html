<section class="w-[95%] md:w-[75%] mx-auto py-5 mt-5  pt-[52px] mb-4">
   <div class="flex flex-col my-auto">
        <div class="flex content-center flex-col md:flex-row bg-white border border-gray-200 shadow-sm rounded-lg dark:border-gray-700 dark:bg-gray-800">

          <!-- IMAGE -->
          <img
            class="object-cover w-full md:w-3/7 h-60 md:h-[35rem] rounded-t-lg md:rounded-s-lg"
            src="./imgs/dl.beatsnoop 1.png"
            alt="register form"
          />

          <!-- CONTENT -->
          <div class="md:w-4/7 my-auto p-4 md:py-6 md:px-15 leading-relaxed text-start ">



<form [formGroup]="loginForm" (ngSubmit)="submitForm()" class=" w-full flex flex-col justify-between h-auto">
  <div class="mb-5">
    <h1 class="text-3xl font-bold mb-2 ">Sign In</h1>
  <p class="text-md font-semibold text-gray-400">don't have an account yet ? <span routerLink="/register" class="text-blue-400 cursor-pointer hover:underline underline-offset-2 hover:transition-all hover:duration-2000">sign up</span></p>
  </div>

  <div class="relative z-0 w-full mb-3 group">
            <input
              formControlName="email"
              type="email"
              name="email"
              id="email"
              class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-black peer"
              placeholder=" "
              required
            />
            <label
              for="email"
              class="peer-focus:font-medium absolute text-xs text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-black peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
              >Email</label
            >

                     @let emailControl = loginForm.get('email');
            @if((emailControl?.errors && emailControl?.touched)||(emailControl?.dirty&&emailControl?.errors)|| isValid && emailControl?.errors){
                   <div class="flex items-center p-2 mt-1 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
  <svg class="shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
  </svg>
  @if(emailControl?.getError('required')){
<div>
    Email is required.
  </div>
  }@else if(emailControl?.getError('email')){
    <div>
    Enter a valid Email address.
  </div>}
</div>
            }
          </div>
          <div class="relative z-0 w-full mb-3 group">
          <div class="relative">
              <input
              formControlName="password"
             [type]="flag1 ? 'text' : 'password'"
              name="password"
              id="password"
              class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-black peer"
              placeholder=" "
              required
            />
             @if(flag1){
                        <span (click)="flag1 = !flag1" class="absolute top-1/2 right-0 -translate-y-1/2 cursor-pointer"><i  class="fa-solid fa-eye"></i></span>
            }@else {
                 <span (click)="flag1 = !flag1" class="absolute top-1/2 right-0 -translate-y-1/2 cursor-pointer"><i class="fa-solid fa-eye-slash"></i></span>
            }
            <label
              for="password"
              class="peer-focus:font-medium absolute  text-xs text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-black peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
              >Password</label
            >
          </div>

                    @let PasswordControl = loginForm.get('password');
            @if((PasswordControl?.errors && PasswordControl?.touched)|| (PasswordControl?.dirty&&PasswordControl?.errors) || isValid &&PasswordControl?.errors ){
                   <div class="flex items-center p-2 mt-1 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
  <svg class="shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
  </svg>
  @if(PasswordControl?.getError('required')){
<div>
    Password is required.
  </div>
  }@else if(PasswordControl?.getError('pattern')){
    <div>
    Password must be at least 8 characters letters,numbers, and a special character.
  </div>}
</div>
            }

          </div>


 <button
            type="submit"
            class="mt-6 self-center md:self-end w-fit rounded-lg cursor-pointer disabled:bg-gray-400 disabled:cursor-not-allowed text-white bg-black font-medium rounded-0 text-sm px-18 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
          >
            Sign In
            @if(isLoading){
              <span class="ml-2"><i class="fa-solid fa-spinner animate-spin"></i></span>
            }
          </button>
  <div class="mt-5">
  <p routerLink="/forget-password" class="text-md font-semibold cursor-pointer hover:underline underline-offset-2 hover:transition-all hover:duration-2000 text-blue-400">Forget Password ?</p>
  </div>
</form>

          </div>
        </div>
      </div>
</section>
