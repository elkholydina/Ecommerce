import{b as W,c as S}from"./chunk-YQBL6UC4.js";import{a as L}from"./chunk-NGUHPZEI.js";import"./chunk-YW32U5JU.js";import"./chunk-74NXI3YY.js";import{l as b}from"./chunk-OLLSEIT3.js";import"./chunk-IRFL4NMA.js";import{h as y}from"./chunk-5DE6OTCK.js";import{$ as m,Ab as l,Bb as o,Hb as _,Lb as v,Mb as a,Sa as n,Xb as C,cb as h,fa as p,ga as d,tb as u,ub as f,vb as w,wb as x,xb as g,yb as c,zb as s}from"./chunk-6HMZLBRA.js";function T(e,i){e&1&&(s(0,"section",0)(1,"div",2),o(2,"img",3),s(3,"h1",4),C(4," Your wish list is Empty! "),l()()())}function F(e,i){if(e&1){let t=_();s(0,"div",7),o(1,"app-card",8),s(2,"div",9),v("click",function(){let k=p(t).$implicit,I=a(2);return d(I.removeFromWishList(k._id))}),o(3,"i",10),l()()}if(e&2){let t=i.$implicit;n(),c("product",t)("isWishlist",!0)}}function O(e,i){if(e&1&&(s(0,"section",1),o(1,"app-title",5),s(2,"div",6),x(3,F,4,2,"div",7,w),l()()),e&2){let t=a();n(),c("color","text-blue-500")("background","before:bg-blue-500"),n(2),g(t.products)}}var P=class e{wishList=m(W);tostr=m(b);products=[];wishlistProducts=[];ngOnInit(){try{this.wishlistProducts=JSON.parse(localStorage.getItem("wishlist")||"[]"),Array.isArray(this.wishlistProducts)||(this.wishlistProducts=[])}catch{this.wishlistProducts=[]}this.loadWishlist()}loadWishlist(){this.wishList.wishList().subscribe({next:i=>{this.products=i?.data||[],this.wishlistProducts=this.products.map(t=>t._id),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts))},error:i=>console.error(i)})}removeFromWishList(i){this.wishList.removeFromWishList(i).subscribe({next:t=>{t?.status==="success"&&(this.loadWishlist(),this.wishlistProducts=this.wishlistProducts.filter(r=>r!==i),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.tostr.success("Item removed from your wish list.","",{timeOut:1e3,progressBar:!0}))},error:()=>this.tostr.error("Failed to remove item.")})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-wish-list"]],decls:2,vars:1,consts:[[1,"w-[95%]","pt-[52px]","md:w-[90%]","h-[35rem]","mx-auto","mt-5","mb-4","rounded-lg","overflow-hidden","shadow-md"],[1,"w-[95%]","md:w-[75%]","mx-auto","py-5","mt-10","pt-[52px]","mb-4"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center"],["src","./imgs/tutti-shopping-basket-with-fruit-milk-and-wine-1 1.png","alt","cart image",1,"object-contain","w-48","sm:w-64","md:w-80","mx-auto"],[1,"text-lg","sm:text-xl","md:text-2xl","font-bold","my-5"],["title","Wish List",3,"color","background"],[1,"w-full","mx-auto","flex","flex-wrap","justify-center","gap-8","pt-6"],[1,"w-[220px]","relative"],[3,"product","isWishlist"],[1,"text-[22px]","text-red-500","bg-white","cursor-pointer","absolute","top-1","left-[93%]","text-blue-500':",3,"click"],[1,"fa-solid","fa-trash"]],template:function(t,r){t&1&&u(0,T,5,0,"section",0)(1,O,5,2,"section",1),t&2&&f(r.products.length==0?0:1)},dependencies:[y,S,L],encapsulation:2})};export{P as WishListComponent};
