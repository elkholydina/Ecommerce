import{a as O}from"./chunk-APFXBYTV.js";import{a as G,b as f,c as q,d as N,e as I,g as k,i as P,j as D,l as M,m as z,o as A}from"./chunk-Z7X5E6PB.js";import{l as T}from"./chunk-OLLSEIT3.js";import"./chunk-IRFL4NMA.js";import{s as F,t as V}from"./chunk-5DE6OTCK.js";import{$ as g,Ab as n,Bb as m,Hb as v,Lb as _,Mb as p,Sa as d,Xb as l,cb as E,cc as w,dc as y,e as L,ec as S,fa as b,ga as x,ha as h,tb as u,ub as c,yb as C,zb as e}from"./chunk-6HMZLBRA.js";function R(t,r){t&1&&(e(0,"div"),l(1," Email is required. "),n())}function j(t,r){t&1&&(e(0,"div"),l(1," Enter a valid Email address. "),n())}function $(t,r){if(t&1&&(e(0,"div",13),h(),e(1,"svg",22),m(2,"path",23),n(),u(3,R,2,0,"div")(4,j,2,0,"div"),n()),t&2){p();let i=S(17);d(3),c(i!=null&&i.getError("required")?3:i!=null&&i.getError("email")?4:-1)}}function B(t,r){if(t&1){let i=v();e(0,"span",24),_("click",function(){b(i);let o=p();return x(o.flag1=!o.flag1)}),m(1,"i",25),n()}}function H(t,r){if(t&1){let i=v();e(0,"span",24),_("click",function(){b(i);let o=p();return x(o.flag1=!o.flag1)}),m(1,"i",26),n()}}function J(t,r){t&1&&(e(0,"div"),l(1," Password is required. "),n())}function K(t,r){t&1&&(e(0,"div"),l(1," Password must be at least 8 characters letters,numbers, and a special character. "),n())}function Q(t,r){if(t&1&&(e(0,"div",13),h(),e(1,"svg",22),m(2,"path",23),n(),u(3,J,2,0,"div")(4,K,2,0,"div"),n()),t&2){p();let i=S(26);d(3),c(i!=null&&i.getError("required")?3:i!=null&&i.getError("pattern")?4:-1)}}function U(t,r){t&1&&(e(0,"span",19),m(1,"i",27),n())}var Z=class t{login=g(O);route=g(F);isValid=!1;isLoading=!1;flag1=!1;loginForm;subscription=new L;tostr=g(T);ngOnInit(){this.createFormGroup()}createFormGroup(){this.loginForm=new I({email:new k(null,[f.required,f.email]),password:new k(null,[f.required,f.pattern(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/)])})}submitForm(){this.loginForm.valid?(this.isLoading=!0,this.subscription.unsubscribe(),console.log(this.loginForm),this.subscription=this.login.loginData(this.loginForm.value).subscribe({next:r=>{this.isLoading=!1,localStorage.setItem("token",r.token),this.tostr.success("log in successfully.","",{timeOut:1e3,extendedTimeOut:500,progressBar:!0}),setTimeout(()=>{this.route.navigate(["/home"])},500)},error:r=>{this.isLoading=!1,console.log(r)}})):this.isValid=!0}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=E({type:t,selectors:[["app-login"]],decls:34,vars:8,consts:[[1,"w-[95%]","md:w-[75%]","mx-auto","py-5","mt-5","pt-[52px]","mb-4"],[1,"flex","flex-col","my-auto"],[1,"flex","content-center","flex-col","md:flex-row","bg-white","border","border-gray-200","shadow-sm","rounded-lg","dark:border-gray-700","dark:bg-gray-800"],["src","./imgs/dl.beatsnoop 1.png","alt","register form",1,"object-cover","w-full","md:w-3/7","h-60","md:h-[35rem]","rounded-t-lg","md:rounded-s-lg"],[1,"md:w-4/7","my-auto","p-4","md:py-6","md:px-15","leading-relaxed","text-start"],[1,"w-full","flex","flex-col","justify-between","h-auto",3,"ngSubmit","formGroup"],[1,"mb-5"],[1,"text-3xl","font-bold","mb-2"],[1,"text-md","font-semibold","text-gray-400"],["routerLink","/register",1,"text-blue-400","cursor-pointer","hover:underline","underline-offset-2","hover:transition-all","hover:duration-2000"],[1,"relative","z-0","w-full","mb-3","group"],["formControlName","email","type","email","name","email","id","email","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-black","peer"],["for","email",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-black","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["role","alert",1,"flex","items-center","p-2","mt-1","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"relative"],["formControlName","password","name","password","id","password","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-black","peer",3,"type"],[1,"absolute","top-1/2","right-0","-translate-y-1/2","cursor-pointer"],["for","password",1,"peer-focus:font-medium","absolute","text-xs","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-black","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","submit",1,"mt-6","self-center","md:self-end","w-fit","rounded-lg","cursor-pointer","disabled:bg-gray-400","disabled:cursor-not-allowed","text-white","bg-black","font-medium","rounded-0","text-sm","px-18","py-2","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"ml-2"],[1,"mt-5"],["routerLink","/forget-password",1,"text-md","font-semibold","cursor-pointer","hover:underline","underline-offset-2","hover:transition-all","hover:duration-2000","text-blue-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"absolute","top-1/2","right-0","-translate-y-1/2","cursor-pointer",3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],[1,"fa-solid","fa-spinner","animate-spin"]],template:function(i,a){if(i&1){let o=v();e(0,"section",0)(1,"div",1)(2,"div",2),m(3,"img",3),e(4,"div",4)(5,"form",5),_("ngSubmit",function(){return b(o),x(a.submitForm())}),e(6,"div",6)(7,"h1",7),l(8,"Sign In"),n(),e(9,"p",8),l(10,"don't have an account yet ? "),e(11,"span",9),l(12,"sign up"),n()()(),e(13,"div",10),m(14,"input",11),e(15,"label",12),l(16,"Email"),n(),w(17),u(18,$,5,1,"div",13),n(),e(19,"div",10)(20,"div",14),m(21,"input",15),u(22,B,2,0,"span",16)(23,H,2,0,"span",16),e(24,"label",17),l(25,"Password"),n()(),w(26),u(27,Q,5,1,"div",13),n(),e(28,"button",18),l(29," Sign In "),u(30,U,2,0,"span",19),n(),e(31,"div",20)(32,"p",21),l(33,"Forget Password ?"),n()()()()()()()}if(i&2){d(5),C("formGroup",a.loginForm),d(12);let o=y(a.loginForm.get("email"));d(),c(o!=null&&o.errors&&(o!=null&&o.touched)||o!=null&&o.dirty&&(o!=null&&o.errors)||a.isValid&&(o!=null&&o.errors)?18:-1),d(3),C("type",a.flag1?"text":"password"),d(),c(a.flag1?22:23),d(4);let s=y(a.loginForm.get("password"));d(),c(s!=null&&s.errors&&(s!=null&&s.touched)||s!=null&&s.dirty&&(s!=null&&s.errors)||a.isValid&&(s!=null&&s.errors)?27:-1),d(3),c(a.isLoading?30:-1)}},dependencies:[V,A,P,G,q,N,z,D,M],encapsulation:2})};export{Z as LoginComponent};
