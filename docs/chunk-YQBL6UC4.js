import{a as N}from"./chunk-YW32U5JU.js";import{l as F}from"./chunk-OLLSEIT3.js";import{a as x}from"./chunk-IRFL4NMA.js";import{b as P,d as E,h as T,l as O,t as W}from"./chunk-5DE6OTCK.js";import{$ as c,Ab as o,Bb as l,Lb as L,Mb as f,Pa as S,Sa as s,W as y,Xb as a,Yb as C,Zb as h,cb as g,ha as _,hb as I,hc as v,ia as k,tb as u,ub as m,yb as d,zb as r}from"./chunk-6HMZLBRA.js";var B=(i,e)=>["/details",i,e];function U(i,e){if(i&1&&(r(0,"a",0)(1,"span"),a(2),o(),l(3,"i",2),o()),i&2){let n=f();d("routerLink",v(2,B,n.slug,n.id)),s(2),C(n.content)}}function J(i,e){if(i&1&&(r(0,"a",1)(1,"span"),a(2),o(),l(3,"i",2),o()),i&2){let n=f();s(2),C(n.content)}}var b=class i{content="";slug="";id="";static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["app-link"]],inputs:{content:"content",slug:"slug",id:"id"},decls:2,vars:1,consts:[[1,"text-sm","text-blue-500","font-semibold","dark:text-white","underline","underline-offset-4",3,"routerLink"],["routerLink","/shop",1,"text-sm","text-blue-500","font-semibold","dark:text-white","underline","underline-offset-4"],[1,"fa-solid","fa-arrow-right","underline","underline-offset-4","translate-y-.5"]],template:function(n,t){n&1&&u(0,U,4,5,"a",0)(1,J,4,1,"a",1),n&2&&m(t.content=="Details"?0:1)},dependencies:[W],encapsulation:2})};var w=class i{httpClient=c(O);addToWishList(e){return this.httpClient.post(x.baseUrl+"wishlist",e)}removeFromWishList(e){return this.httpClient.delete(x.baseUrl+`wishlist/${e}`)}wishList(){return this.httpClient.get(x.baseUrl+"wishlist")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})};var G=(i,e)=>({"text-blue-500":i,"text-black":e});function H(i,e){i&1&&(r(0,"div",2),a(1," Top "),o())}function z(i,e){i&1&&(r(0,"div",3),a(1," -50% "),o())}function R(i,e){if(i&1&&I(0,z,2,0,"div",20),i&2){let n=f();d("ngIf",n.status==="sale")}}var D=class i{wishList=c(w);tostr=c(F);product={};status="";isWishlist=!1;wishlistProducts=[];ngOnInit(){try{let e=localStorage.getItem("wishlist")||"[]";this.wishlistProducts=JSON.parse(e),Array.isArray(this.wishlistProducts)||(this.wishlistProducts=[])}catch{this.wishlistProducts=[]}}toggleWish(e,n){e&&(n&&n.stopPropagation(),this.wishlistProducts.includes(e)?this.wishList.removeFromWishList(e).subscribe({next:t=>{t?.status==="success"&&(this.wishlistProducts=this.wishlistProducts.filter(p=>p!==e),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.tostr.success("Item removed from your wish list.","",{timeOut:1e3,progressBar:!0}))},error:()=>this.tostr.error("Failed to remove item from wishlist.")}):this.wishList.addToWishList({productId:e}).subscribe({next:t=>{t?.status==="success"&&(this.wishlistProducts.includes(e)||this.wishlistProducts.push(e),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.tostr.success("Item added to your wish list.","",{timeOut:1e3,progressBar:!0}))},error:()=>this.tostr.error("Failed to add item to wishlist.")}))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["app-card"]],inputs:{product:"product",status:"status",isWishlist:"isWishlist"},decls:32,vars:15,consts:[[1,"w-60","relative","max-w-xs","bg-white","xl:transition-all","xl:duration-150","border","xl:hover:scale-103","border-gray-200","rounded-lg","shadow-lg","dark:bg-gray-800","dark:border-gray-700","group/card"],[1,"overflow-hidden","block"],[1,"text-white","absolute","bg-gradient-to-r","from-blue-400","via-blue-500","to-blue-600","font-medium","rounded-lg","text-xs","px-3","py-1.5","text-center","top-1","left-1"],[1,"text-white","absolute","bg-gradient-to-r","from-red-400","via-red-500","to-red-600","font-medium","rounded-lg","text-xs","px-3","py-1.5","text-center","top-1","left-1"],["alt","product image",1,"rounded-t-lg","w-full","h-40","object-scale-down",3,"src"],[1,"w-[95%]","translate-y-[-30%]","xl:translate-y-13","text-center","xl:group-hover/card:translate-y-[-50%]","xl:transition-all","xl:duration-200","xl:delay-150"],["title","Add to Cart",3,"product_id"],[1,"px-2","pb-5"],[1,"flex","items-center","mt-2","mb-1"],[1,"flex","items-center","space-x-1","rtl:space-x-reverse"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-4","h-4","text-black"],["d","M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"],[1,"bg-blue-100","text-blue-800","text-xs","font-semibold","px-2.5","py-0.5","rounded-sm","dark:bg-blue-200","dark:text-blue-800","ms-3"],[1,"text-base","font-semibold","tracking-tight","text-blue-500","dark:text-white"],[1,"text-base","font-semibold","tracking-tight","text-gray-900","dark:text-white","line-clamp-1","mt-2","mb-2"],[1,"flex","items-center","justify-between"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[3,"content","slug","id"],[1,"text-[20px]","cursor-pointer","absolute","top-2","left-[85%]",3,"click","ngClass"],[1,"fa-solid","fa-heart"],["class","text-white absolute bg-gradient-to-r from-red-400 via-red-500 to-red-600 font-medium rounded-lg text-xs px-3 py-1.5 text-center top-1 left-1",4,"ngIf"]],template:function(n,t){if(n&1&&(r(0,"div",0)(1,"div",1),u(2,H,2,0,"div",2),u(3,R,1,1,"div",3),l(4,"img",4),r(5,"div",5),l(6,"app-button",6),o()(),r(7,"div",7)(8,"div",8)(9,"div",9),_(),r(10,"svg",10),l(11,"path",11),o(),r(12,"svg",10),l(13,"path",11),o(),r(14,"svg",10),l(15,"path",11),o(),r(16,"svg",10),l(17,"path",11),o(),r(18,"svg",10),l(19,"path",11),o()(),k(),r(20,"span",12),a(21),o()(),r(22,"h5",13),a(23),o(),r(24,"p",14),a(25),o(),r(26,"div",15)(27,"span",16),a(28),o(),l(29,"app-link",17),o()(),r(30,"div",18),L("click",function(M){return t.toggleWish(t.product==null?null:t.product._id,M)}),l(31,"i",19),o()()),n&2){let p;s(2),m(t.status=="Top"?2:-1),s(),m(t.status==="sale"?3:-1),s(),d("src",t.product==null?null:t.product.imageCover,S),s(2),d("product_id",t.product==null?null:t.product._id),s(15),h(" ",t.product==null?null:t.product.ratingsAverage," "),s(2),h(" ",t.product==null||t.product.category==null?null:t.product.category.name," "),s(2),h(" ",t.product==null||t.product.title==null||(p=t.product.title.split(" ",3))==null?null:p.join(" ")," "),s(3),h("",t.product==null?null:t.product.price," EGP"),s(),d("content","Details")("slug",t.product.slug)("id",t.product._id),s(),d("ngClass",v(12,G,t.wishlistProducts.includes(t.product._id),!t.wishlistProducts.includes(t.product._id)))}},dependencies:[T,P,E,b,N],encapsulation:2})};export{b as a,w as b,D as c};
